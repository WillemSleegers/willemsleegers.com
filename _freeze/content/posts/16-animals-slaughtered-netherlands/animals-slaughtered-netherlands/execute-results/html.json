{
  "hash": "a2fd6a19d3a46441b46475c87e39ce85",
  "result": {
    "markdown": "---\ntitle: \"Animals slaughtered in the Netherlands\"\ndate: 2022-09-18\ncategories:\n  - animal welfare\n  - data cleaning\n  - data visualization\n  - R\ndf-print: paged\ncode-tools: true\ncode-fold: show\ninclude-after-body: counter.html\n---\n\n\nIn this post I take a look at how many animals are slaughtered in the Netherlands. The goal is to find and clean the data to answer this question and to get a better grasp of exactly how many animals are killed here every hear. It's both an exercise in data cleaning and calibrating one's beliefs about this topic, as this is something that's too easy to avoid thinking about, while probably being one of the most important things you *should* think about.\n\n## Data\n\nThe data on the number of animals slaughtered in the Netherlands can be found on [StatLine](https://opendata.cbs.nl/statline#/CBS/nl/ \"StatLine\"). This is a database managed by CBS, the national statistical office of the Netherlands. Specifically, we're going to take a look at the meat production numbers (vleesproductie). These numbers can be found in a table [here](https://opendata.cbs.nl/#/CBS/nl/dataset/7123slac/table?ts=1663151766192). We can adapt what is in the table by changing various filters. By default it shows both the number of animals and the weight of the animals. I'm only interested in the number of animals, so I deselect the weight-related rows. I also see that they offer data on more dates than is shown by default, so I select all of the dates. I then download the data as a .csv file using the button in the top right corner. Now we can start cleaning the data for our purposes.\n\n## Setup\n\nRun the following setup code if you want to follow along. You can download the data yourself or use my [file](meat-production-netherlands.csv).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages\nlibrary(tidyverse)\n\n# Load data\ndata <- read_csv2(\"meat-production-netherlands.csv\")\n\n# Set default ggplot\ntheme_set(theme_minimal())\n```\n:::\n\n\nNote that we have to use `read_csv2()` because the data values are separated by a semi-colon. This is an annoying default in the Netherlands (and probably elsewhere in Europe).\n\n## Data cleaning\n\nLet's begin by inspecting the first few rows of the data.\n\n\n::: {.cell tbl-cap='First 6 rows of the data.'}\n\n```{.r .cell-code}\nhead(data)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Slachtdieren\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Perioden\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Aantal slachtingen (x 1 000)\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 januari\",\"3\":\"193.7\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 februari\",\"3\":\"160.2\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 maart\",\"3\":\"189.9\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 april\",\"3\":\"174.3\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 mei\",\"3\":\"201.4\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"1990 juni\",\"3\":\"172.3\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nIt should be no surprise, but the data is in Dutch. Let's translate the data, starting with the columns. One of the columns is called `Aantal slachtingen (x 1 000)`, which means number of slaughtered animals in units of 1000. Instead of translating this directly, I will simply rename it to `count` and multiply the values by 1000.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- data %>%\n  rename(\n    animal = Slachtdieren,\n    period = Perioden,\n    count = `Aantal slachtingen (x 1 000)`\n  ) %>%\n  mutate(count = count * 1000)\n```\n:::\n\n\nLet's clean up the `period` column next. It seems like it contains the year and the month (in Dutch). I can translate the month names to Dutch, but I first want to make sure that all data values are structured the same way. `count()` is a great function to inspect that.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata %>%\n  count(period)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"period\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1990\",\"2\":\"17\"},{\"1\":\"1990 april\",\"2\":\"17\"},{\"1\":\"1990 augustus\",\"2\":\"17\"},{\"1\":\"1990 december\",\"2\":\"17\"},{\"1\":\"1990 februari\",\"2\":\"17\"},{\"1\":\"1990 januari\",\"2\":\"17\"},{\"1\":\"1990 juli\",\"2\":\"17\"},{\"1\":\"1990 juni\",\"2\":\"17\"},{\"1\":\"1990 maart\",\"2\":\"17\"},{\"1\":\"1990 mei\",\"2\":\"17\"},{\"1\":\"1990 november\",\"2\":\"17\"},{\"1\":\"1990 oktober\",\"2\":\"17\"},{\"1\":\"1990 september\",\"2\":\"17\"},{\"1\":\"1991\",\"2\":\"17\"},{\"1\":\"1991 april\",\"2\":\"17\"},{\"1\":\"1991 augustus\",\"2\":\"17\"},{\"1\":\"1991 december\",\"2\":\"17\"},{\"1\":\"1991 februari\",\"2\":\"17\"},{\"1\":\"1991 januari\",\"2\":\"17\"},{\"1\":\"1991 juli\",\"2\":\"17\"},{\"1\":\"1991 juni\",\"2\":\"17\"},{\"1\":\"1991 maart\",\"2\":\"17\"},{\"1\":\"1991 mei\",\"2\":\"17\"},{\"1\":\"1991 november\",\"2\":\"17\"},{\"1\":\"1991 oktober\",\"2\":\"17\"},{\"1\":\"1991 september\",\"2\":\"17\"},{\"1\":\"1992\",\"2\":\"17\"},{\"1\":\"1992 april\",\"2\":\"17\"},{\"1\":\"1992 augustus\",\"2\":\"17\"},{\"1\":\"1992 december\",\"2\":\"17\"},{\"1\":\"1992 februari\",\"2\":\"17\"},{\"1\":\"1992 januari\",\"2\":\"17\"},{\"1\":\"1992 juli\",\"2\":\"17\"},{\"1\":\"1992 juni\",\"2\":\"17\"},{\"1\":\"1992 maart\",\"2\":\"17\"},{\"1\":\"1992 mei\",\"2\":\"17\"},{\"1\":\"1992 november\",\"2\":\"17\"},{\"1\":\"1992 oktober\",\"2\":\"17\"},{\"1\":\"1992 september\",\"2\":\"17\"},{\"1\":\"1993\",\"2\":\"17\"},{\"1\":\"1993 april\",\"2\":\"17\"},{\"1\":\"1993 augustus\",\"2\":\"17\"},{\"1\":\"1993 december\",\"2\":\"17\"},{\"1\":\"1993 februari\",\"2\":\"17\"},{\"1\":\"1993 januari\",\"2\":\"17\"},{\"1\":\"1993 juli\",\"2\":\"17\"},{\"1\":\"1993 juni\",\"2\":\"17\"},{\"1\":\"1993 maart\",\"2\":\"17\"},{\"1\":\"1993 mei\",\"2\":\"17\"},{\"1\":\"1993 november\",\"2\":\"17\"},{\"1\":\"1993 oktober\",\"2\":\"17\"},{\"1\":\"1993 september\",\"2\":\"17\"},{\"1\":\"1994\",\"2\":\"17\"},{\"1\":\"1994 april\",\"2\":\"17\"},{\"1\":\"1994 augustus\",\"2\":\"17\"},{\"1\":\"1994 december\",\"2\":\"17\"},{\"1\":\"1994 februari\",\"2\":\"17\"},{\"1\":\"1994 januari\",\"2\":\"17\"},{\"1\":\"1994 juli\",\"2\":\"17\"},{\"1\":\"1994 juni\",\"2\":\"17\"},{\"1\":\"1994 maart\",\"2\":\"17\"},{\"1\":\"1994 mei\",\"2\":\"17\"},{\"1\":\"1994 november\",\"2\":\"17\"},{\"1\":\"1994 oktober\",\"2\":\"17\"},{\"1\":\"1994 september\",\"2\":\"17\"},{\"1\":\"1995\",\"2\":\"17\"},{\"1\":\"1995 april\",\"2\":\"17\"},{\"1\":\"1995 augustus\",\"2\":\"17\"},{\"1\":\"1995 december\",\"2\":\"17\"},{\"1\":\"1995 februari\",\"2\":\"17\"},{\"1\":\"1995 januari\",\"2\":\"17\"},{\"1\":\"1995 juli\",\"2\":\"17\"},{\"1\":\"1995 juni\",\"2\":\"17\"},{\"1\":\"1995 maart\",\"2\":\"17\"},{\"1\":\"1995 mei\",\"2\":\"17\"},{\"1\":\"1995 november\",\"2\":\"17\"},{\"1\":\"1995 oktober\",\"2\":\"17\"},{\"1\":\"1995 september\",\"2\":\"17\"},{\"1\":\"1996\",\"2\":\"17\"},{\"1\":\"1996 april\",\"2\":\"17\"},{\"1\":\"1996 augustus\",\"2\":\"17\"},{\"1\":\"1996 december\",\"2\":\"17\"},{\"1\":\"1996 februari\",\"2\":\"17\"},{\"1\":\"1996 januari\",\"2\":\"17\"},{\"1\":\"1996 juli\",\"2\":\"17\"},{\"1\":\"1996 juni\",\"2\":\"17\"},{\"1\":\"1996 maart\",\"2\":\"17\"},{\"1\":\"1996 mei\",\"2\":\"17\"},{\"1\":\"1996 november\",\"2\":\"17\"},{\"1\":\"1996 oktober\",\"2\":\"17\"},{\"1\":\"1996 september\",\"2\":\"17\"},{\"1\":\"1997\",\"2\":\"17\"},{\"1\":\"1997 april\",\"2\":\"17\"},{\"1\":\"1997 augustus\",\"2\":\"17\"},{\"1\":\"1997 december\",\"2\":\"17\"},{\"1\":\"1997 februari\",\"2\":\"17\"},{\"1\":\"1997 januari\",\"2\":\"17\"},{\"1\":\"1997 juli\",\"2\":\"17\"},{\"1\":\"1997 juni\",\"2\":\"17\"},{\"1\":\"1997 maart\",\"2\":\"17\"},{\"1\":\"1997 mei\",\"2\":\"17\"},{\"1\":\"1997 november\",\"2\":\"17\"},{\"1\":\"1997 oktober\",\"2\":\"17\"},{\"1\":\"1997 september\",\"2\":\"17\"},{\"1\":\"1998\",\"2\":\"17\"},{\"1\":\"1998 april\",\"2\":\"17\"},{\"1\":\"1998 augustus\",\"2\":\"17\"},{\"1\":\"1998 december\",\"2\":\"17\"},{\"1\":\"1998 februari\",\"2\":\"17\"},{\"1\":\"1998 januari\",\"2\":\"17\"},{\"1\":\"1998 juli\",\"2\":\"17\"},{\"1\":\"1998 juni\",\"2\":\"17\"},{\"1\":\"1998 maart\",\"2\":\"17\"},{\"1\":\"1998 mei\",\"2\":\"17\"},{\"1\":\"1998 november\",\"2\":\"17\"},{\"1\":\"1998 oktober\",\"2\":\"17\"},{\"1\":\"1998 september\",\"2\":\"17\"},{\"1\":\"1999\",\"2\":\"17\"},{\"1\":\"1999 april\",\"2\":\"17\"},{\"1\":\"1999 augustus\",\"2\":\"17\"},{\"1\":\"1999 december\",\"2\":\"17\"},{\"1\":\"1999 februari\",\"2\":\"17\"},{\"1\":\"1999 januari\",\"2\":\"17\"},{\"1\":\"1999 juli\",\"2\":\"17\"},{\"1\":\"1999 juni\",\"2\":\"17\"},{\"1\":\"1999 maart\",\"2\":\"17\"},{\"1\":\"1999 mei\",\"2\":\"17\"},{\"1\":\"1999 november\",\"2\":\"17\"},{\"1\":\"1999 oktober\",\"2\":\"17\"},{\"1\":\"1999 september\",\"2\":\"17\"},{\"1\":\"2000\",\"2\":\"17\"},{\"1\":\"2000 april\",\"2\":\"17\"},{\"1\":\"2000 augustus\",\"2\":\"17\"},{\"1\":\"2000 december\",\"2\":\"17\"},{\"1\":\"2000 februari\",\"2\":\"17\"},{\"1\":\"2000 januari\",\"2\":\"17\"},{\"1\":\"2000 juli\",\"2\":\"17\"},{\"1\":\"2000 juni\",\"2\":\"17\"},{\"1\":\"2000 maart\",\"2\":\"17\"},{\"1\":\"2000 mei\",\"2\":\"17\"},{\"1\":\"2000 november\",\"2\":\"17\"},{\"1\":\"2000 oktober\",\"2\":\"17\"},{\"1\":\"2000 september\",\"2\":\"17\"},{\"1\":\"2001\",\"2\":\"17\"},{\"1\":\"2001 april\",\"2\":\"17\"},{\"1\":\"2001 augustus\",\"2\":\"17\"},{\"1\":\"2001 december\",\"2\":\"17\"},{\"1\":\"2001 februari\",\"2\":\"17\"},{\"1\":\"2001 januari\",\"2\":\"17\"},{\"1\":\"2001 juli\",\"2\":\"17\"},{\"1\":\"2001 juni\",\"2\":\"17\"},{\"1\":\"2001 maart\",\"2\":\"17\"},{\"1\":\"2001 mei\",\"2\":\"17\"},{\"1\":\"2001 november\",\"2\":\"17\"},{\"1\":\"2001 oktober\",\"2\":\"17\"},{\"1\":\"2001 september\",\"2\":\"17\"},{\"1\":\"2002\",\"2\":\"17\"},{\"1\":\"2002 april\",\"2\":\"17\"},{\"1\":\"2002 augustus\",\"2\":\"17\"},{\"1\":\"2002 december\",\"2\":\"17\"},{\"1\":\"2002 februari\",\"2\":\"17\"},{\"1\":\"2002 januari\",\"2\":\"17\"},{\"1\":\"2002 juli\",\"2\":\"17\"},{\"1\":\"2002 juni\",\"2\":\"17\"},{\"1\":\"2002 maart\",\"2\":\"17\"},{\"1\":\"2002 mei\",\"2\":\"17\"},{\"1\":\"2002 november\",\"2\":\"17\"},{\"1\":\"2002 oktober\",\"2\":\"17\"},{\"1\":\"2002 september\",\"2\":\"17\"},{\"1\":\"2003\",\"2\":\"17\"},{\"1\":\"2003 april\",\"2\":\"17\"},{\"1\":\"2003 augustus\",\"2\":\"17\"},{\"1\":\"2003 december\",\"2\":\"17\"},{\"1\":\"2003 februari\",\"2\":\"17\"},{\"1\":\"2003 januari\",\"2\":\"17\"},{\"1\":\"2003 juli\",\"2\":\"17\"},{\"1\":\"2003 juni\",\"2\":\"17\"},{\"1\":\"2003 maart\",\"2\":\"17\"},{\"1\":\"2003 mei\",\"2\":\"17\"},{\"1\":\"2003 november\",\"2\":\"17\"},{\"1\":\"2003 oktober\",\"2\":\"17\"},{\"1\":\"2003 september\",\"2\":\"17\"},{\"1\":\"2004\",\"2\":\"17\"},{\"1\":\"2004 april\",\"2\":\"17\"},{\"1\":\"2004 augustus\",\"2\":\"17\"},{\"1\":\"2004 december\",\"2\":\"17\"},{\"1\":\"2004 februari\",\"2\":\"17\"},{\"1\":\"2004 januari\",\"2\":\"17\"},{\"1\":\"2004 juli\",\"2\":\"17\"},{\"1\":\"2004 juni\",\"2\":\"17\"},{\"1\":\"2004 maart\",\"2\":\"17\"},{\"1\":\"2004 mei\",\"2\":\"17\"},{\"1\":\"2004 november\",\"2\":\"17\"},{\"1\":\"2004 oktober\",\"2\":\"17\"},{\"1\":\"2004 september\",\"2\":\"17\"},{\"1\":\"2005\",\"2\":\"17\"},{\"1\":\"2005 april\",\"2\":\"17\"},{\"1\":\"2005 augustus\",\"2\":\"17\"},{\"1\":\"2005 december\",\"2\":\"17\"},{\"1\":\"2005 februari\",\"2\":\"17\"},{\"1\":\"2005 januari\",\"2\":\"17\"},{\"1\":\"2005 juli\",\"2\":\"17\"},{\"1\":\"2005 juni\",\"2\":\"17\"},{\"1\":\"2005 maart\",\"2\":\"17\"},{\"1\":\"2005 mei\",\"2\":\"17\"},{\"1\":\"2005 november\",\"2\":\"17\"},{\"1\":\"2005 oktober\",\"2\":\"17\"},{\"1\":\"2005 september\",\"2\":\"17\"},{\"1\":\"2006\",\"2\":\"17\"},{\"1\":\"2006 april\",\"2\":\"17\"},{\"1\":\"2006 augustus\",\"2\":\"17\"},{\"1\":\"2006 december\",\"2\":\"17\"},{\"1\":\"2006 februari\",\"2\":\"17\"},{\"1\":\"2006 januari\",\"2\":\"17\"},{\"1\":\"2006 juli\",\"2\":\"17\"},{\"1\":\"2006 juni\",\"2\":\"17\"},{\"1\":\"2006 maart\",\"2\":\"17\"},{\"1\":\"2006 mei\",\"2\":\"17\"},{\"1\":\"2006 november\",\"2\":\"17\"},{\"1\":\"2006 oktober\",\"2\":\"17\"},{\"1\":\"2006 september\",\"2\":\"17\"},{\"1\":\"2007\",\"2\":\"17\"},{\"1\":\"2007 april\",\"2\":\"17\"},{\"1\":\"2007 augustus\",\"2\":\"17\"},{\"1\":\"2007 december\",\"2\":\"17\"},{\"1\":\"2007 februari\",\"2\":\"17\"},{\"1\":\"2007 januari\",\"2\":\"17\"},{\"1\":\"2007 juli\",\"2\":\"17\"},{\"1\":\"2007 juni\",\"2\":\"17\"},{\"1\":\"2007 maart\",\"2\":\"17\"},{\"1\":\"2007 mei\",\"2\":\"17\"},{\"1\":\"2007 november\",\"2\":\"17\"},{\"1\":\"2007 oktober\",\"2\":\"17\"},{\"1\":\"2007 september\",\"2\":\"17\"},{\"1\":\"2008\",\"2\":\"17\"},{\"1\":\"2008 april\",\"2\":\"17\"},{\"1\":\"2008 augustus\",\"2\":\"17\"},{\"1\":\"2008 december\",\"2\":\"17\"},{\"1\":\"2008 februari\",\"2\":\"17\"},{\"1\":\"2008 januari\",\"2\":\"17\"},{\"1\":\"2008 juli\",\"2\":\"17\"},{\"1\":\"2008 juni\",\"2\":\"17\"},{\"1\":\"2008 maart\",\"2\":\"17\"},{\"1\":\"2008 mei\",\"2\":\"17\"},{\"1\":\"2008 november\",\"2\":\"17\"},{\"1\":\"2008 oktober\",\"2\":\"17\"},{\"1\":\"2008 september\",\"2\":\"17\"},{\"1\":\"2009\",\"2\":\"17\"},{\"1\":\"2009 april\",\"2\":\"17\"},{\"1\":\"2009 augustus\",\"2\":\"17\"},{\"1\":\"2009 december\",\"2\":\"17\"},{\"1\":\"2009 februari\",\"2\":\"17\"},{\"1\":\"2009 januari\",\"2\":\"17\"},{\"1\":\"2009 juli\",\"2\":\"17\"},{\"1\":\"2009 juni\",\"2\":\"17\"},{\"1\":\"2009 maart\",\"2\":\"17\"},{\"1\":\"2009 mei\",\"2\":\"17\"},{\"1\":\"2009 november\",\"2\":\"17\"},{\"1\":\"2009 oktober\",\"2\":\"17\"},{\"1\":\"2009 september\",\"2\":\"17\"},{\"1\":\"2010\",\"2\":\"17\"},{\"1\":\"2010 april\",\"2\":\"17\"},{\"1\":\"2010 augustus\",\"2\":\"17\"},{\"1\":\"2010 december\",\"2\":\"17\"},{\"1\":\"2010 februari\",\"2\":\"17\"},{\"1\":\"2010 januari\",\"2\":\"17\"},{\"1\":\"2010 juli\",\"2\":\"17\"},{\"1\":\"2010 juni\",\"2\":\"17\"},{\"1\":\"2010 maart\",\"2\":\"17\"},{\"1\":\"2010 mei\",\"2\":\"17\"},{\"1\":\"2010 november\",\"2\":\"17\"},{\"1\":\"2010 oktober\",\"2\":\"17\"},{\"1\":\"2010 september\",\"2\":\"17\"},{\"1\":\"2011\",\"2\":\"17\"},{\"1\":\"2011 april\",\"2\":\"17\"},{\"1\":\"2011 augustus\",\"2\":\"17\"},{\"1\":\"2011 december\",\"2\":\"17\"},{\"1\":\"2011 februari\",\"2\":\"17\"},{\"1\":\"2011 januari\",\"2\":\"17\"},{\"1\":\"2011 juli\",\"2\":\"17\"},{\"1\":\"2011 juni\",\"2\":\"17\"},{\"1\":\"2011 maart\",\"2\":\"17\"},{\"1\":\"2011 mei\",\"2\":\"17\"},{\"1\":\"2011 november\",\"2\":\"17\"},{\"1\":\"2011 oktober\",\"2\":\"17\"},{\"1\":\"2011 september\",\"2\":\"17\"},{\"1\":\"2012\",\"2\":\"17\"},{\"1\":\"2012 april\",\"2\":\"17\"},{\"1\":\"2012 augustus\",\"2\":\"17\"},{\"1\":\"2012 december\",\"2\":\"17\"},{\"1\":\"2012 februari\",\"2\":\"17\"},{\"1\":\"2012 januari\",\"2\":\"17\"},{\"1\":\"2012 juli\",\"2\":\"17\"},{\"1\":\"2012 juni\",\"2\":\"17\"},{\"1\":\"2012 maart\",\"2\":\"17\"},{\"1\":\"2012 mei\",\"2\":\"17\"},{\"1\":\"2012 november\",\"2\":\"17\"},{\"1\":\"2012 oktober\",\"2\":\"17\"},{\"1\":\"2012 september\",\"2\":\"17\"},{\"1\":\"2013\",\"2\":\"17\"},{\"1\":\"2013 april\",\"2\":\"17\"},{\"1\":\"2013 augustus\",\"2\":\"17\"},{\"1\":\"2013 december\",\"2\":\"17\"},{\"1\":\"2013 februari\",\"2\":\"17\"},{\"1\":\"2013 januari\",\"2\":\"17\"},{\"1\":\"2013 juli\",\"2\":\"17\"},{\"1\":\"2013 juni\",\"2\":\"17\"},{\"1\":\"2013 maart\",\"2\":\"17\"},{\"1\":\"2013 mei\",\"2\":\"17\"},{\"1\":\"2013 november\",\"2\":\"17\"},{\"1\":\"2013 oktober\",\"2\":\"17\"},{\"1\":\"2013 september\",\"2\":\"17\"},{\"1\":\"2014\",\"2\":\"17\"},{\"1\":\"2014 april\",\"2\":\"17\"},{\"1\":\"2014 augustus\",\"2\":\"17\"},{\"1\":\"2014 december\",\"2\":\"17\"},{\"1\":\"2014 februari\",\"2\":\"17\"},{\"1\":\"2014 januari\",\"2\":\"17\"},{\"1\":\"2014 juli\",\"2\":\"17\"},{\"1\":\"2014 juni\",\"2\":\"17\"},{\"1\":\"2014 maart\",\"2\":\"17\"},{\"1\":\"2014 mei\",\"2\":\"17\"},{\"1\":\"2014 november\",\"2\":\"17\"},{\"1\":\"2014 oktober\",\"2\":\"17\"},{\"1\":\"2014 september\",\"2\":\"17\"},{\"1\":\"2015\",\"2\":\"17\"},{\"1\":\"2015 april\",\"2\":\"17\"},{\"1\":\"2015 augustus\",\"2\":\"17\"},{\"1\":\"2015 december\",\"2\":\"17\"},{\"1\":\"2015 februari\",\"2\":\"17\"},{\"1\":\"2015 januari\",\"2\":\"17\"},{\"1\":\"2015 juli\",\"2\":\"17\"},{\"1\":\"2015 juni\",\"2\":\"17\"},{\"1\":\"2015 maart\",\"2\":\"17\"},{\"1\":\"2015 mei\",\"2\":\"17\"},{\"1\":\"2015 november\",\"2\":\"17\"},{\"1\":\"2015 oktober\",\"2\":\"17\"},{\"1\":\"2015 september\",\"2\":\"17\"},{\"1\":\"2016\",\"2\":\"17\"},{\"1\":\"2016 april\",\"2\":\"17\"},{\"1\":\"2016 augustus\",\"2\":\"17\"},{\"1\":\"2016 december\",\"2\":\"17\"},{\"1\":\"2016 februari\",\"2\":\"17\"},{\"1\":\"2016 januari\",\"2\":\"17\"},{\"1\":\"2016 juli\",\"2\":\"17\"},{\"1\":\"2016 juni\",\"2\":\"17\"},{\"1\":\"2016 maart\",\"2\":\"17\"},{\"1\":\"2016 mei\",\"2\":\"17\"},{\"1\":\"2016 november\",\"2\":\"17\"},{\"1\":\"2016 oktober\",\"2\":\"17\"},{\"1\":\"2016 september\",\"2\":\"17\"},{\"1\":\"2017\",\"2\":\"17\"},{\"1\":\"2017 april\",\"2\":\"17\"},{\"1\":\"2017 augustus\",\"2\":\"17\"},{\"1\":\"2017 december\",\"2\":\"17\"},{\"1\":\"2017 februari\",\"2\":\"17\"},{\"1\":\"2017 januari\",\"2\":\"17\"},{\"1\":\"2017 juli\",\"2\":\"17\"},{\"1\":\"2017 juni\",\"2\":\"17\"},{\"1\":\"2017 maart\",\"2\":\"17\"},{\"1\":\"2017 mei\",\"2\":\"17\"},{\"1\":\"2017 november\",\"2\":\"17\"},{\"1\":\"2017 oktober\",\"2\":\"17\"},{\"1\":\"2017 september\",\"2\":\"17\"},{\"1\":\"2018\",\"2\":\"17\"},{\"1\":\"2018 april\",\"2\":\"17\"},{\"1\":\"2018 augustus\",\"2\":\"17\"},{\"1\":\"2018 december\",\"2\":\"17\"},{\"1\":\"2018 februari\",\"2\":\"17\"},{\"1\":\"2018 januari\",\"2\":\"17\"},{\"1\":\"2018 juli\",\"2\":\"17\"},{\"1\":\"2018 juni\",\"2\":\"17\"},{\"1\":\"2018 maart\",\"2\":\"17\"},{\"1\":\"2018 mei\",\"2\":\"17\"},{\"1\":\"2018 november\",\"2\":\"17\"},{\"1\":\"2018 oktober\",\"2\":\"17\"},{\"1\":\"2018 september\",\"2\":\"17\"},{\"1\":\"2019\",\"2\":\"17\"},{\"1\":\"2019 april\",\"2\":\"17\"},{\"1\":\"2019 augustus\",\"2\":\"17\"},{\"1\":\"2019 december\",\"2\":\"17\"},{\"1\":\"2019 februari\",\"2\":\"17\"},{\"1\":\"2019 januari\",\"2\":\"17\"},{\"1\":\"2019 juli\",\"2\":\"17\"},{\"1\":\"2019 juni\",\"2\":\"17\"},{\"1\":\"2019 maart\",\"2\":\"17\"},{\"1\":\"2019 mei\",\"2\":\"17\"},{\"1\":\"2019 november\",\"2\":\"17\"},{\"1\":\"2019 oktober\",\"2\":\"17\"},{\"1\":\"2019 september\",\"2\":\"17\"},{\"1\":\"2020\",\"2\":\"17\"},{\"1\":\"2020 april\",\"2\":\"17\"},{\"1\":\"2020 augustus\",\"2\":\"17\"},{\"1\":\"2020 december\",\"2\":\"17\"},{\"1\":\"2020 februari\",\"2\":\"17\"},{\"1\":\"2020 januari\",\"2\":\"17\"},{\"1\":\"2020 juli\",\"2\":\"17\"},{\"1\":\"2020 juni\",\"2\":\"17\"},{\"1\":\"2020 maart\",\"2\":\"17\"},{\"1\":\"2020 mei\",\"2\":\"17\"},{\"1\":\"2020 november\",\"2\":\"17\"},{\"1\":\"2020 oktober\",\"2\":\"17\"},{\"1\":\"2020 september\",\"2\":\"17\"},{\"1\":\"2021\",\"2\":\"17\"},{\"1\":\"2021 april\",\"2\":\"17\"},{\"1\":\"2021 augustus\",\"2\":\"17\"},{\"1\":\"2021 december\",\"2\":\"17\"},{\"1\":\"2021 februari\",\"2\":\"17\"},{\"1\":\"2021 januari\",\"2\":\"17\"},{\"1\":\"2021 juli\",\"2\":\"17\"},{\"1\":\"2021 juni\",\"2\":\"17\"},{\"1\":\"2021 maart\",\"2\":\"17\"},{\"1\":\"2021 mei\",\"2\":\"17\"},{\"1\":\"2021 november\",\"2\":\"17\"},{\"1\":\"2021 oktober\",\"2\":\"17\"},{\"1\":\"2021 september\",\"2\":\"17\"},{\"1\":\"2022 april*\",\"2\":\"17\"},{\"1\":\"2022 februari*\",\"2\":\"17\"},{\"1\":\"2022 januari*\",\"2\":\"17\"},{\"1\":\"2022 juni*\",\"2\":\"17\"},{\"1\":\"2022 maart*\",\"2\":\"17\"},{\"1\":\"2022 mei*\",\"2\":\"17\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nCuriously, not all rows in the data contain both the year *and* the month. Some only have the year. This is important because that means we can't just sum the number of slaughtered animals per year because that means we'll actually get *twice* the number of animals because we'll sum both the animals slaughtered in that year and each month of that year. The last several months also have an asterisk in the month name. This asterisk indicates that the data for these months has not yet been finalized.\n\nWhat I want to do next is create a new column that only contains the year and another column that contains the month. Creating the year column is easy because we can use `parse_number()` to extract the year from the data. The month is a bit trickier, but we can use a regular expression to remove the year, leaving us with the month. We use `str_remove()` and tell it to remove a string pattern that consists of 4 numbers and a space. We can also use it to remove the asterisk from the more recent months, but first we add a column to say whether the numbers are final or not based on this asterisk. After doing that, we recode the month values that need to be translated and also convert the empty string to a missing value. Finally, we remove the `period` column because we don't need it anymore.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- mutate(data,\n    year = parse_number(period),\n    month = str_remove(period, \"[0-9]{4} ?\"),\n    final = if_else(str_detect(period, \"\\\\*\"), \"no\", \"yes\"),\n    month = str_remove(month, \"\\\\*\"),\n    month = recode(month,\n      \"augustus\" = \"august\",\n      \"februari\" = \"february\",\n      \"januari\" = \"january\",\n      \"juli\" = \"july\",\n      \"juni\" = \"june\",\n      \"maart\" = \"march\",\n      \"mei\" = \"may\",\n      \"oktober\" = \"october\",\n    ),\n    month = na_if(month, \"\"),\n    period = NULL\n  )\n```\n:::\n\n\nNext are the animals. Let's take a look at the unique values we have.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount(data, animal)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"animal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Eenhoevigen\",\"2\":\"422\"},{\"1\":\"Geiten (totaal)\",\"2\":\"422\"},{\"1\":\"Kalkoenen\",\"2\":\"422\"},{\"1\":\"Kalveren jonger dan 9 maanden\",\"2\":\"422\"},{\"1\":\"Kalveren van 9 tot en met 12 maanden\",\"2\":\"422\"},{\"1\":\"Koeien\",\"2\":\"422\"},{\"1\":\"Overig pluimvee\",\"2\":\"422\"},{\"1\":\"Overige kippen\",\"2\":\"422\"},{\"1\":\"Rundvee (totaal)\",\"2\":\"422\"},{\"1\":\"Schapen incl. lammeren\",\"2\":\"422\"},{\"1\":\"Schapenlammeren\",\"2\":\"422\"},{\"1\":\"Stieren\",\"2\":\"422\"},{\"1\":\"Totaal kalveren\",\"2\":\"422\"},{\"1\":\"Totaal volwassen runderen\",\"2\":\"422\"},{\"1\":\"Vaarzen\",\"2\":\"422\"},{\"1\":\"Varkens (totaal)\",\"2\":\"422\"},{\"1\":\"Vleeskuikens\",\"2\":\"422\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nHmm... it looks like there are a few challenges here. First, we seem to have both total values and non-total values, so we should take care to separate these. Second, we need to figure out what each word means. Even my Dutch is not helping me in understanding each type of animal.\n\nLet's first simply translate the values so we get a better grasp of what we are dealing with. The translations won't be direct translations. Instead, I already think about what kind of categories make sense and how I want to plot the data later, so I translate the values into names that will also be useful later.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- mutate(data, \n  animal = recode(animal, \n    \"Eenhoevigen\" = \"ungulates (mostly horses)\",\n    \"Geiten (totaal)\" = \"goats\",\n    \"Kalkoenen\" = \"turkeys\",\n    \"Kalveren jonger dan 9 maanden\" = \"calves (< 9 months)\",\n    \"Kalveren van 9 tot en met 12 maanden\" = \"calves (9-12 months)\",\n    \"Koeien\" = \"cows\",\n    \"Overig pluimvee\" = \"poultry (misc)\",\n    \"Overige kippen\" = \"chicken (mostly layers)\",\n    \"Rundvee (totaal)\" = \"cattle\",\n    \"Schapen incl. lammeren\" = \"sheep\",\n    \"Schapenlammeren\" = \"lambs\",\n    \"Stieren\" = \"bulls\",\n    \"Totaal kalveren\" = \"calves\",\n    \"Totaal volwassen runderen\" = \"adult cattle (total)\",\n    \"Vaarzen\" = \"heifers\",\n    \"Varkens (totaal)\" = \"pigs\",\n    \"Vleeskuikens\" = \"broilers\"\n  )\n)\n```\n:::\n\n\nTranslating the words was very helpful to better understand the data. One thing that's clear is that some of the values are totals of other values. Below I list which values in the data are actually sums of other values:\n\n-   adult cattle: Total of cows, heifers, and bulls\n-   cattle: Total of adult cattle and calves\n-   calves: Total of calves (\\< 9 months) and calves (9-12 months)\n\nIf we are interested in what the totals are made of, we can remove the total columns and reconstruct them later if we want to. This works for the first two total columns, but not calves because they only started making the distinction between young and older calves in 2009. So let's instead remove the values that the total values are made of and only keep the total values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- filter(data, !animal %in% c(\"adult cattle (total)\", \"cows\", \n  \"heifers\", \"bulls\", \"calves\",\"calves (< 9 months)\", \n  \"calves (9-12 months)\", \"lambs\")\n)\n```\n:::\n\n\nThis leaves us with the following animals.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount(data, animal)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"animal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"broilers\",\"2\":\"422\"},{\"1\":\"cattle\",\"2\":\"422\"},{\"1\":\"chicken (mostly layers)\",\"2\":\"422\"},{\"1\":\"goats\",\"2\":\"422\"},{\"1\":\"pigs\",\"2\":\"422\"},{\"1\":\"poultry (misc)\",\"2\":\"422\"},{\"1\":\"sheep\",\"2\":\"422\"},{\"1\":\"turkeys\",\"2\":\"422\"},{\"1\":\"ungulates (mostly horses)\",\"2\":\"422\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThis looks fine to me, which means we are almost done with the data cleaning. At this point I want to create two separate data frames: one that only contains the annual data and one that contains the monthly data. This is easy to do because we can take all the annual data by simply selecting the rows with a missing value in the `month` column. Since the `month` column is useless in that data frame, we remove it.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_annual <- data %>%\n  filter(is.na(month)) %>%\n  select(-month)\n\ndata <- filter(data, !is.na(month))\n```\n:::\n\n\nAs a final step we can combine the `year` and `month` columns from the monthly data frame into a single column, which will be useful for plotting the data later. This requires a special function from the `zoo` package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- mutate(data,\n  month = str_to_sentence(month),\n  month = match(month, month.name),\n  year_month = paste(year, month, \"1\", sep = \"-\"),\n  year_month = lubridate::as_date(year_month),\n  year_month = zoo::as.yearmon(year_month)\n) \n```\n:::\n\n\n## Data analysis\n\nWith the data cleaned up we can start to ask some questions. Let's begin with a graph that shows as much of the data as possible. That means plotting the monthly data for each animal.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = year_month, y = count)) +\n  geom_point(size = 1) +\n  geom_line(alpha = .25) +\n  facet_wrap(~ animal, scales = \"free\") \n```\n\n::: {.cell-output-display}\n![Number of slaughtered animals per month and animal](animals-slaughtered-netherlands_files/figure-html/plot-monthly-data-1.png){width=672}\n:::\n:::\n\n\nA few observations:\n\n-   The numbers are very high, particularly for some animals (e.g., broilers)\n-   Some animals used to be slaughtered in larger numbers than now\n    -   This is clearly the case for turkeys and poulty (misc), but also other other animals such as cattle and pigs\n-   Some numbers are relatively low (e.g., for horses)\n-   The data sometimes fluctuates quite a bit from month to month, so annual view might show clearer patterns\n\nGiven these observations, let's create a subset focusing only on six categories of animals that are still being slaughtered in large numbers and let's also plot the annual data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_annual_subset <- data_annual %>%\n  filter(animal %in% c(\"broilers\", \"goats\", \"sheep\", \"cattle\", \"pigs\", \n    \"chicken (mostly layers)\")\n  ) %>%\n  filter(final == \"yes\")\n\nggplot(data_annual_subset, aes(x = year, y = count)) +\n  geom_point(size = 1) +\n  geom_line(alpha = .25) +\n  facet_wrap(~ animal, scales = \"free\")\n```\n\n::: {.cell-output-display}\n![Number of slaughtered animals per year and animal](animals-slaughtered-netherlands_files/figure-html/plot-annual-data-1.png){width=672}\n:::\n:::\n\n\nOkay, parsing this graph I see that a lot of chicken are slaughtered every year, particularly broiler chicken. The numbers are so high that `ggplot` has switched to the scientific notation to represent the numbers. Interestingly, though, the number of slaughtered broiler chickens has decreased somewhat in the last two years. I don't know why that is. I also see that some animals are slaughtered more and more over the years (e.g., cattle, non-broiler chicken, goats, and pigs), although I'm also surprised to see that for some animals we've had worse years, particularly for cattle and pigs. For those animals we see a huge drop around the year 2000. The reason for that drop was the outbreak of foot-and-mouth disease and subsequent regulation. I thought thinks were getting worse and worse, but apparently it was already worse a while ago.\n\nLet's hone in on some exact numbers. Below we create a table to show the number of slaughtered animals in 2021, per animal.\n\n\n::: {.cell tbl-cap='Number of slaughtered animals in 2021'}\n\n```{.r .cell-code}\ndata_annual %>%\n  filter(year == 2021) %>%\n  arrange(desc(count)) %>%\n  select(animal, count)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"animal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"count\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"broilers\",\"2\":\"500732500\"},{\"1\":\"chicken (mostly layers)\",\"2\":\"20079200\"},{\"1\":\"pigs\",\"2\":\"17236800\"},{\"1\":\"cattle\",\"2\":\"2093300\"},{\"1\":\"sheep\",\"2\":\"672400\"},{\"1\":\"goats\",\"2\":\"218700\"},{\"1\":\"poultry (misc)\",\"2\":\"4800\"},{\"1\":\"ungulates (mostly horses)\",\"2\":\"1800\"},{\"1\":\"turkeys\",\"2\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nOof. That's over 500 million chicken! For reference, the Netherlands had a population of 17.17 million in 2021.\n\nHow many animals were slaughtered in total, in 2021?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount_total_2021 <- data_annual %>%\n  filter(year == 2021) %>%\n  summarize(count_total = sum(count)) %>%\n  pull(count_total)\n```\n:::\n\n\nApparently a total of 541039500, or 17.16 animals per second. That means that about:\n\n::: {#counter}\n0\n:::\n\n...have died since you started reading this blog post. That's a bit of a bummer to end on, but then, this post was never going to have a happy ending.\n\n*This post was last updated on 2022-09-19.*\n",
    "supporting": [
      "animals-slaughtered-netherlands_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}