{
  "hash": "1781871aa56bcc5fa2d8a837444497a2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Bayesian tutorial: Likert data\"\ndescription: \"The fifth of a series of tutorial posts on Bayesian analyses. In this post I focus on using brms to model Likert data.\"\ndate: 2023-04-24\ncategories:\n  - statistics\n  - tutorial\n  - Bayesian statistics\n  - regression\n  - Likert\ncode-fold: true\ncode-tools: true\ntoc: true\ndraft: true\n---\n\n\nRun the following setup code if you want to follow along.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(likert)\nlibrary(brms)\nlibrary(tidybayes)\nlibrary(modelr)\n\ntheme_set(theme_minimal())\n\noptions(\n  mc.cores = 4,\n  brms.threads = 4,\n  brms.backend = \"cmdstanr\",\n  brms.file_refit = \"on_change\",\n  brms.silent = 2\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n?likert::likert.bar.plot()\n\ndata(pisaitems)\nitems29 <- pisaitems[, substr(names(pisaitems), 1, 5) == \"ST25Q\"]\nnames(items29) <- c(\n  \"Magazines\", \"Comic books\", \"Fiction\",\n  \"Non-fiction books\", \"Newspapers\"\n)\n\nget_prior(Magazines ~ 1,\n  data = items29,\n  family = cumulative(\"probit\")\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Rows containing NAs were excluded from the model.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                prior     class coef group resp dpar nlpar lb ub       source\n student_t(3, 0, 2.5) Intercept                                       default\n student_t(3, 0, 2.5) Intercept    1                             (vectorized)\n student_t(3, 0, 2.5) Intercept    2                             (vectorized)\n student_t(3, 0, 2.5) Intercept    3                             (vectorized)\n student_t(3, 0, 2.5) Intercept    4                             (vectorized)\n```\n\n\n:::\n\n```{.r .cell-code}\nitems29 <- items29 |>\n  as_tibble() |>\n  mutate(Magazines = factor(Magazines, ordered = TRUE)) |>\n  filter(!is.na(Magazines))\n\ncount(items29, Magazines)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  Magazines                 n\n  <ord>                 <int>\n1 Never or almost never  6682\n2 A few times a year    13143\n3 About once a month    13995\n4 Several times a month 20353\n5 Several times a week  11436\n```\n\n\n:::\n\n```{.r .cell-code}\nmodel <- brm(\n  Magazines ~ 1,\n  data = items29,\n  family = cumulative(\"probit\"),\n  sample_prior = \"yes\",\n  file = \"models/likert.rds\",\n)\n\ndata_grid(.model = model) |>\n  add_epred_draws(model) |>\n  median_qi()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 8\n   .row .category             .epred .lower .upper .width .point .interval\n  <int> <fct>                  <dbl>  <dbl>  <dbl>  <dbl> <chr>  <chr>    \n1     1 Never or almost never  0.102 0.0997  0.104   0.95 median qi       \n2     1 A few times a year     0.200 0.197   0.203   0.95 median qi       \n3     1 About once a month     0.213 0.210   0.216   0.95 median qi       \n4     1 Several times a month  0.310 0.307   0.314   0.95 median qi       \n5     1 Several times a week   0.174 0.171   0.177   0.95 median qi       \n```\n\n\n:::\n:::\n\n\n*This post was last updated on 2024-03-17.*",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}